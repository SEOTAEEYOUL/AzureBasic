# Azure CLI 를 통한 자원 배포(IaC - 1)
azure cli, powershell, ARMTemplate 사용한 배포 테스트

## IaC(코드형 인프라)
- 수동 프로세스가 아닌 코드를 이용하여 인프라를 관리하고 프로비저닝하는 것을 뜻  
- “프로그래밍 가능 인프라”

> [코드형 인프라(IaC)란?](https://www.redhat.com/ko/topics/automation/what-is-infrastructure-as-code-iac)  

### 변경 가능한 IaC
### 변경 불가능한 IaC

### IaC의 이점
IaC는 자동화된 프로세스를 통해 기업이 다양한 방법으로 IT 인프라의 요구를 관리할 수 있도록 지원  
#### 일관성
- 일관성을 개선하고 수동 구성 중에 자주 발생하는 오류를 줄임
- 수동 프로세스 중에 발생할 수 있는 구성 드리프트를 제거
- 구성 사양을 코딩하고 문서화하여 문서화되지 않은 임시 구성 변경을 방지하는 데 도움을 줌

#### 비용 절감
- 가상 시스템을 프로그래밍 방식으로 관리할 수 있어 수동 하드웨어 구성 및 업데이트가 필요하지 않음
- 운영자 한 명이 동일한 코드를 사용하여 1대 또는 1,000대의 시스템을 구축하고 관리할 수 있음
- 필요한 인력이 줄어들고 새 하드웨어를 구입할 필요가 없어 비용이 크게 절감

#### 효율성
- 인프라를 코딩하면 프로비저닝용 템플릿이 제공되어 시스템 구성, 유지 보수 및 관리가 간소화 됨
- 이를 통해 반복 가능하고 확장 가능한 탄력적인 인프라를 구축할 수 있음
- DevOps를 통해 소프트웨어 개발 시 모든 단계의 속도를 높여 매일 더 많은 애플리케이션을 출시할 수 있음

#### 속도  
- 프로비저닝 작업을 스크립트를 실행하면 되는 간단한 작업으로 전환하여 인프라를 준비할 수 있음
- 인프라를 기다리지 않고 애플리케이션을 구축할 수 있으며 새로운 소프트웨어를 훨씬 더 신속하게 출시할 수 있음

#### 위험 감소
- 다른 소프트웨어 소스 코드 파일과 마찬가지로 구성 파일이 소스 통제를 받을 수 있도록 버전 제어를 지원함으로 위험이 감소

### IaC에 대한 선언적 접근 방식과 명령적 접근 방식
#### 선언적 접근 방식
- 기능적 접근 방식
- 어떻게 달성할 것인지를 정의하지 않고 원하는 시스템 상태를 정의
- 필요한 속성을 포함하여 원하는 리소스를 정의
- 사람이 작업하지 않아도 동일한 결과로 여러 번 실행될 수 있음
#### 명령적 접근 방식
- 절차적 접근 방식
- 인프라를 구성하는 방법뿐만 아니라 이를 달성하는 방법을 정확하게 정의해야 함
- 특정 구성을 달성하는 데 필요한 명령을 정의
- 한 번에 한 단계씩 적절한 순서로 실행
- 업데이트를 허용하지 않고 명시적인 방향을 사용하는 불안정한 접근 방식
- 운영자가 변경 사항이 어떻게 적용되어야 하는지를 해독해야 함

### IaC가 사용되는 방식
- 새롭고 혁신적인 서비스와 리소스를 더 신속하게 배포할 수 있는 단일 제어 지점을 갖춘 시스템
- 일관된 프로비저닝과 오케스트레이션을 통해 애플리케이션 성능을 향상
- 소프트웨어 정의 아키텍처를 통해 코드형 인프라를 관리를 통해 사내 IT 팀에 대한 요구가 감소

### IaC 도구
#### Chef, Puppet
#### Terraform
#### AWS CloudFormation
#### Azure Resource Manager Template
## [Azure CLI](../0.ENV/CLI.md)  
### [Resource Group](./AzureResourceGroup.md)  
### [VNet](./AzureVirtualNetwork.md) 
### [VM 생성](./AzureVirtualMachine.md)

## [PowerShell](../0.ENV/PowerShell.md)  
- Resource Group
- VNet
- VM 생성

## [ARMTemplate](../0.ENV/ARMTemplate.md)  
- Application Gatewy 배포